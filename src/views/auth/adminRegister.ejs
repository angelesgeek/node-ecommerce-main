<!DOCTYPE html>
<html lang="es">

<head>
  <%- include('../partials/head') %>

    <link rel="stylesheet" href="/css/auth.css">
</head>

<body>

  <%- include('../partials/headeradmin') %>
    <main class="my-5 pt-4 login">
      <div class="card shadow my-5" style="min-width: 300px;">
        <form class="card-body bg-dark white-text" action="/register" method="POST">

          <h2 class="mt-3 h2 text-center">Registrar Nuevo Administrador</h2>

          <!-- Comienzo del formulario -->
          <div class="form-group">
            <label for="name" class="col-form-label white-text">Nombre</label>
            <input type="text" name="name" id="name" value="<%= locals.olds && olds.name ? olds.name : '' %>"
              class="bg-dark white-text form-control">
            <% if (locals.errors && errors.name) { %>
              <span>
                <%= errors.name.msg %>
              </span>
              <% } %>
          </div>

          <div class="form-group">
            <input type="hidden" name="id_app" value="null" id="id_app" value="<%= locals.olds && olds.id_app ? olds.id_app : '' %>"
              class="form-control bg-dark white-text">

            <% if (locals.errors && errors.id_app) { %>
              <span>
                <%= errors.id_app.msg %>
              </span>
              <% } %>
          </div>
          
          <div class="form-group">
            <label for="email">Email</label>
            <input type="text" name="email" id="email" value="<%= locals.olds && olds.email ? olds.email : '' %>"
              class="form-control bg-dark white-text">

            <% if (locals.errors && errors.email) { %>
              <span>
                <%= errors.email.msg %>
              </span>
              <% } %>
          </div>
          <!-- CÃ³digo para rol -->
          <div class="form-group">
            <label for="rol">Elije el rol del nuevo usuario</label>

            <select name="rol" id="rol" class="form-control bg-dark white-text">
              <option value="40">Admin General</option>
              <option value="1">Administrador</option>
            </select>
          </div>


          <div class="form-group">
            <label for="password" class="white-text">Password</label>
            <input type="password" name="password" id="password" class="form-control bg-dark white-text">

            <% if (locals.errors && errors.password) { %>
              <span>
                <%= errors.password.msg %>
              </span>
              <% } %>
          </div>



          <div class="form-group">
            <label for="confirm-password" class="white-text">Confirm Pass</label>
            <input type="password" name="confirm-password" id="confirm-password"
              class="form-control bg-dark white-text">

          </div>

          <button class="btn btn-link white-text text-center" type="button" onclick="resetForm()">Vaciar
            formulario</button>

          <script>
            function resetForm() {
              document.getElementById("name").value = "";
              document.getElementById("id_app").value = "";
              document.getElementById("email").value = "";
              document.getElementById("role").selectedIndex = 0;
              document.getElementById("password").value = "";
              document.getElementById("confirm-password").value = "";
            }
          </script>

          <hr class="mb-4">
          <button class="btn btn-primary btn-lg btn-block" type="submit">Registrar</button>
        </form>
      </div>
    </main>
    <%- include('../partials/footer') %>
      <%- include('../partials/scripts') %>
</body>

</html>